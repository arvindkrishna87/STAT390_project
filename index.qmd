---
title: "STAT390 CMIL Classification" 
---

**Aim: The objective of this project is to identify the severity of potential eye cancer by looking at a particular eye tissue of the patient.**

In medical terms, we want to develop a machine learning model to accurately classify *Conjunctival melanocytic intraepithelial lesions **(C-MIL)*** as per the *WHO 2022 classification system*. Providing a reproducible and accurate grading of C-MIL will help doctors select the most appropriate management plan for the patient.

The Northwestern University STAT390 Class has made the following progress on this project:

![](images/HomeImage.png){fig-align="center"}

**Step 1:**  Extracting tissue slices from Whole Slice Images (**WSI**) using QuPath

**Step 2:**  Matching similar tissue slices across the different stains (**H&E, Melan-A, Sox-10**) for each patient when there is a correct match 

**Step 3:**  Send matched slices to pathologist team, who will annotate H&E slice with high grade, low grade, and benign regions and send back to us

**Step 4:**  While the pathologist team annotates slices, orienting matched slices and apply patching across epithelium for matched slices. Currently looking at 3 different approaches to patching to find the optimal results

**Literature Review**: Researched adaptive pooling, cross view transformer, square patches (advantages, sizes, and rationale), padding effect, etc.

### Core Questions and Our Approach to Addressing Them

#### Patching Questions
1. **How many distinct patch sizes should we consider? Should we fit patches on every tissue slice to visualise the distribution?** <br>
2. **Does having more patches make the ML model more complex? Consequently, shold we try to minimize the number of distint patch sizes we use?** <br>
3. **If adaptive pooling can be used effectively to handle images of different sizes (i.e. handle distinct patch sizes) can a ML model distinctly identify patterns in small patches or large patches?**

#### Patch Design and Optimization Questions
1. **Why are square patches used in tissue analysis?**  
   To explore this question, we researched the current benefits of using square patches, the effectiveness of non-square patch sizing in similar medical contexts, and a potential alternative called PatchAI.

   **Sources:**
   - [PMC Article](https://pmc.ncbi.nlm.nih.gov/articles/PMC5265243/)
   - [IEEE Article](https://ieeexplore.ieee.org/document/7848208)
   - [MDPI Article](https://www.mdpi.com/2414-4088/6/12/11)

---

2. **Why is patch size in powers of 2? (e.g. 32 x 32, 256 x 256, 512 x 512, etc.) Are there alternatives?**  
   To address this question, we combined theoretical insights, practical examples, and empirical evidence.

   **Theoretical Analysis:** We investigated the mathematical and computational advantages of powers of 2 in convolutional neural networks (CNNs).

   **Practical Examples:** We examined earlier CNN architectures such as AlexNet alongside recent practices focused on hardware efficiency.

   **Empirical Evidence:**  
   To supplement our analysis, we referenced the following study:  
   [Effect of patch size and network architecture on a convolutional neural network approach for automatic segmentation of OCT retinal layers](https://pmc.ncbi.nlm.nih.gov/articles/PMC6033561/#r40)

   **Additional Sources:**  
   - [Keras: MaxPooling2D](https://keras.io/api/layers/pooling_layers/max_pooling2d/)
   - [ImageNet Paper](https://www.cs.toronto.edu/~fritz/absps/imagenet.pdf)
   - [AlexNet Paper](https://arxiv.org/pdf/1409.1556)
   - [NVIDIA GPU Implementation](https://docs.nvidia.com/deeplearning/performance/dl-performance-matrix-multiplication/index.html#gpu-imple)
   - [Pooling Layers in Neural Nets](https://medium.com/aiguys/pooling-layers-in-neural-nets-and-their-variants-f6129fc4628b)

---

3. **How do researchers determine the optimal number of patches?**  
   For this question, we conducted a literature review which included creating a post on the QuPath forum. It received one response as of January 27, 2025.  
   [QuPath Forum: Optimal Number of Patches](https://forum.image.sc/t/optimal-number-of-patches/107600)
